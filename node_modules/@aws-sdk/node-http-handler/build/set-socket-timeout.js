"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function setSocketTimeout(request, reject, timeoutInMs = 0) {
    request.setTimeout(timeoutInMs, function () {
        // abort the request to destroy it
        this.abort();
        const timeoutError = new Error(`Connection timed out after ${timeoutInMs} ms`);
        timeoutError.name = "TimeoutError";
        reject(timeoutError);
    });
}
exports.setSocketTimeout = setSocketTimeout;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0LXNvY2tldC10aW1lb3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NldC1zb2NrZXQtdGltZW91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLFNBQWdCLGdCQUFnQixDQUM5QixPQUFzQixFQUN0QixNQUE0QixFQUM1QixjQUFzQixDQUFDO0lBRXZCLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFO1FBQzlCLGtDQUFrQztRQUNsQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYixNQUFNLFlBQVksR0FBRyxJQUFJLEtBQUssQ0FDNUIsOEJBQThCLFdBQVcsS0FBSyxDQUMvQyxDQUFDO1FBQ0YsWUFBWSxDQUFDLElBQUksR0FBRyxjQUFjLENBQUM7UUFDbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQWRELDRDQWNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2xpZW50UmVxdWVzdCB9IGZyb20gXCJodHRwXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTb2NrZXRUaW1lb3V0KFxuICByZXF1ZXN0OiBDbGllbnRSZXF1ZXN0LFxuICByZWplY3Q6IChlcnI6IEVycm9yKSA9PiB2b2lkLFxuICB0aW1lb3V0SW5NczogbnVtYmVyID0gMFxuKSB7XG4gIHJlcXVlc3Quc2V0VGltZW91dCh0aW1lb3V0SW5NcywgZnVuY3Rpb24gKHRoaXM6IENsaWVudFJlcXVlc3QpIHtcbiAgICAvLyBhYm9ydCB0aGUgcmVxdWVzdCB0byBkZXN0cm95IGl0XG4gICAgdGhpcy5hYm9ydCgpO1xuICAgIGNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBFcnJvcihcbiAgICAgIGBDb25uZWN0aW9uIHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXRJbk1zfSBtc2BcbiAgICApO1xuICAgIHRpbWVvdXRFcnJvci5uYW1lID0gXCJUaW1lb3V0RXJyb3JcIjtcbiAgICByZWplY3QodGltZW91dEVycm9yKTtcbiAgfSk7XG59XG4iXX0=
{"ast":null,"code":"export default function (e, n) {\n  return n = n || {}, new Promise(function (t, r) {\n    var s = new XMLHttpRequest(),\n        o = [],\n        u = [],\n        i = {},\n        a = function () {\n      return {\n        ok: 2 == (s.status / 100 | 0),\n        statusText: s.statusText,\n        status: s.status,\n        url: s.responseURL,\n        text: function () {\n          return Promise.resolve(s.responseText);\n        },\n        json: function () {\n          return Promise.resolve(s.responseText).then(JSON.parse);\n        },\n        blob: function () {\n          return Promise.resolve(new Blob([s.response]));\n        },\n        clone: a,\n        headers: {\n          keys: function () {\n            return o;\n          },\n          entries: function () {\n            return u;\n          },\n          get: function (e) {\n            return i[e.toLowerCase()];\n          },\n          has: function (e) {\n            return e.toLowerCase() in i;\n          }\n        }\n      };\n    };\n\n    for (var l in s.open(n.method || \"get\", e, !0), s.onload = function () {\n      s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function (e, n, t) {\n        o.push(n = n.toLowerCase()), u.push([n, t]), i[n] = i[n] ? i[n] + \",\" + t : t;\n      }), t(a());\n    }, s.onerror = r, s.withCredentials = \"include\" == n.credentials, n.headers) s.setRequestHeader(l, n.headers[l]);\n\n    s.send(n.body || null);\n  });\n}","map":{"version":3,"sources":["../src/index.mjs"],"names":["url","options","Promise","resolve","reject","request","XMLHttpRequest","keys","all","headers","response","ok","status","statusText","responseURL","text","responseText","json","then","JSON","parse","blob","Blob","clone","entries","get","n","toLowerCase","has","open","method","onload","getAllResponseHeaders","replace","m","key","value","push","onerror","withCredentials","credentials","const","i","setRequestHeader","send","body"],"mappings":"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","sourcesContent":["export default function(url, options) {\n\toptions = options || {};\n\treturn new Promise( (resolve, reject) => {\n\t\tconst request = new XMLHttpRequest();\n\t\tconst keys = [];\n\t\tconst all = [];\n\t\tconst headers = {};\n\n\t\tconst response = () => ({\n\t\t\tok: (request.status/100|0) == 2,\t\t// 200-299\n\t\t\tstatusText: request.statusText,\n\t\t\tstatus: request.status,\n\t\t\turl: request.responseURL,\n\t\t\ttext: () => Promise.resolve(request.responseText),\n\t\t\tjson: () => Promise.resolve(request.responseText).then(JSON.parse),\n\t\t\tblob: () => Promise.resolve(new Blob([request.response])),\n\t\t\tclone: response,\n\t\t\theaders: {\n\t\t\t\tkeys: () => keys,\n\t\t\t\tentries: () => all,\n\t\t\t\tget: n => headers[n.toLowerCase()],\n\t\t\t\thas: n => n.toLowerCase() in headers\n\t\t\t}\n\t\t});\n\n\t\trequest.open(options.method || 'get', url, true);\n\n\t\trequest.onload = () => {\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, (m, key, value) => {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theaders[key] = headers[key] ? `${headers[key]},${value}` : value;\n\t\t\t});\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\tfor (const i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.send(options.body || null);\n\t});\n}\n"]},"metadata":{},"sourceType":"module"}
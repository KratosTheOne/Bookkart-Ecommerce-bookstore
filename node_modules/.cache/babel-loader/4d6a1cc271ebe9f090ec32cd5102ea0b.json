{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { UploadPartOutput, UploadPartRequest } from \"../models/models_1\";\nimport { deserializeAws_restXmlUploadPartCommand, serializeAws_restXmlUploadPartCommand } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { getSsecPlugin } from \"@aws-sdk/middleware-ssec\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Uploads a part in a multipart upload.</p>\n *          <note>\n *             <p>In this operation, you provide part data in your request. However, you have an option\n *             to specify your existing Amazon S3 object as a data source for the part you are uploading. To\n *             upload a part from an existing object, you use the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPartCopy.html\">UploadPartCopy</a> operation.\n *          </p>\n *          </note>\n *\n *          <p>You must initiate a multipart upload (see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>)\n *          before you can upload any part. In response to your initiate request, Amazon S3 returns an\n *          upload ID, a unique identifier, that you must include in your upload part request.</p>\n *          <p>Part numbers can be any number from 1 to 10,000, inclusive. A part number uniquely\n *          identifies a part and also defines its position within the object being created. If you\n *          upload a new part using the same part number that was used with a previous part, the\n *          previously uploaded part is overwritten. Each part must be at least 5 MB in size, except\n *          the last part. There is no size limit on the last part of your multipart upload.</p>\n *          <p>To ensure that data is not corrupted when traversing the network, specify the\n *             <code>Content-MD5</code> header in the upload part request. Amazon S3 checks the part data\n *          against the provided MD5 value. If they do not match, Amazon S3 returns an error. </p>\n *\n *          <p>If the upload request is signed with Signature Version 4, then AWS S3 uses the\n *             <code>x-amz-content-sha256</code> header as a checksum instead of\n *             <code>Content-MD5</code>. For more information see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-auth-using-authorization-header.html\">Authenticating Requests: Using the Authorization Header (AWS Signature Version\n *             4)</a>. </p>\n *\n *\n *\n *          <p>\n *             <b>Note:</b> After you initiate multipart upload and upload\n *          one or more parts, you must either complete or abort multipart upload in order to stop\n *          getting charged for storage of the uploaded parts. Only after you either complete or abort\n *          multipart upload, Amazon S3 frees up the parts storage and stops charging you for the parts\n *          storage.</p>\n *\n *          <p>For more information on multipart uploads, go to <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html\">Multipart Upload Overview</a> in the\n *             <i>Amazon Simple Storage Service Developer Guide </i>.</p>\n *          <p>For information on the permissions required to use the multipart upload API, go to\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuAndPermissions.html\">Multipart Upload API and\n *             Permissions</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *\n *          <p>You can optionally request server-side encryption where Amazon S3 encrypts your data as it\n *          writes it to disks in its data centers and decrypts it for you when you access it. You have\n *          the option of providing your own encryption key, or you can use the AWS managed encryption\n *          keys. If you choose to provide your own encryption key, the request headers you provide in\n *          the request must match the headers you used in the request to initiate the upload by using\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>. For more information, go to <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html\">Using Server-Side Encryption</a> in\n *          the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *\n *          <p>Server-side encryption is supported by the S3 Multipart Upload actions. Unless you are\n *          using a customer-provided encryption key, you don't need to specify the encryption\n *          parameters in each UploadPart request. Instead, you only need to specify the server-side\n *          encryption parameters in the initial Initiate Multipart request. For more information, see\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>.</p>\n *\n *          <p>If you requested server-side encryption using a customer-provided encryption key in your\n *          initiate multipart upload request, you must provide identical encryption information in\n *          each part upload using the following headers.</p>\n *\n *\n *          <ul>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-algorithm</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key-MD5</p>\n *             </li>\n *          </ul>\n *\n *          <p class=\"title\">\n *             <b>Special Errors</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <i>Code: NoSuchUpload</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>Cause: The specified multipart upload does not exist. The upload\n *                         ID might be invalid, or the multipart upload might have been aborted or\n *                         completed.</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i> HTTP Status Code: 404 Not Found </i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>SOAP Fault Code Prefix: Client</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *\n *\n *\n *\n *\n *\n *          <p class=\"title\">\n *             <b>Related Resources</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html\">CompleteMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html\">AbortMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html\">ListParts</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html\">ListMultipartUploads</a>\n *                </p>\n *             </li>\n *          </ul>\n */\n\nvar UploadPartCommand =\n/** @class */\nfunction (_super) {\n  __extends(UploadPartCommand, _super); // Start section: command_properties\n  // End section: command_properties\n\n\n  function UploadPartCommand(input) {\n    var _this = // Start section: command_constructor\n    _super.call(this) || this;\n\n    _this.input = input;\n    return _this; // End section: command_constructor\n  }\n  /**\n   * @internal\n   */\n\n\n  UploadPartCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n    this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use(getSsecPlugin(configuration));\n    this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n    var stack = clientStack.concat(this.middlewareStack);\n    var logger = configuration.logger;\n    var clientName = \"S3Client\";\n    var commandName = \"UploadPartCommand\";\n    var handlerExecutionContext = {\n      logger: logger,\n      clientName: clientName,\n      commandName: commandName,\n      inputFilterSensitiveLog: UploadPartRequest.filterSensitiveLog,\n      outputFilterSensitiveLog: UploadPartOutput.filterSensitiveLog\n    };\n    var requestHandler = configuration.requestHandler;\n    return stack.resolve(function (request) {\n      return requestHandler.handle(request.request, options || {});\n    }, handlerExecutionContext);\n  };\n\n  UploadPartCommand.prototype.serialize = function (input, context) {\n    return serializeAws_restXmlUploadPartCommand(input, context);\n  };\n\n  UploadPartCommand.prototype.deserialize = function (output, context) {\n    return deserializeAws_restXmlUploadPartCommand(output, context);\n  };\n\n  return UploadPartCommand;\n}($Command);\n\nexport { UploadPartCommand };","map":{"version":3,"sources":["../../../commands/UploadPartCommand.ts"],"names":[],"mappings":";AACA,SAAS,gBAAT,EAA2B,iBAA3B,QAAoD,oBAApD;AACA,SACE,uCADF,EAEE,qCAFF,QAGO,0BAHP;AAIA,SAAS,uBAAT,QAAwC,qCAAxC;AACA,SAAS,cAAT,QAA+B,2BAA/B;AACA,SAAS,aAAT,QAA8B,0BAA9B;AAEA,SAAS,OAAO,IAAI,QAApB,QAAoC,wBAApC;AAgBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IG;;AACH,IAAA,iBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAuC,EAAA,SAAA,CAAA,iBAAA,EAAA,MAAA,CAAA,CAAvC,CAKE;AACA;;;AAEA,WAAA,iBAAA,CAAqB,KAArB,EAAkD;AAAlD,QAAA,KAAA,GACE;AACA,IAAA,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IAFT;;AAAqB,IAAA,KAAA,CAAA,KAAA,GAAA,KAAA;iBAA6B,CAGhD;AACD;AAED;;AAEG;;;AACH,EAAA,iBAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UACE,WADF,EAEE,aAFF,EAGE,OAHF,EAGgC;AAE9B,SAAK,eAAL,CAAqB,GAArB,CAAyB,cAAc,CAAC,aAAD,EAAgB,KAAK,SAArB,EAAgC,KAAK,WAArC,CAAvC;AACA,SAAK,eAAL,CAAqB,GAArB,CAAyB,aAAa,CAAC,aAAD,CAAtC;AACA,SAAK,eAAL,CAAqB,GAArB,CAAyB,uBAAuB,CAAC,aAAD,CAAhD;AAEA,QAAM,KAAK,GAAG,WAAW,CAAC,MAAZ,CAAmB,KAAK,eAAxB,CAAd;AAEQ,QAAA,MAAM,GAAK,aAAa,CAAlB,MAAN;AACR,QAAM,UAAU,GAAG,UAAnB;AACA,QAAM,WAAW,GAAG,mBAApB;AACA,QAAM,uBAAuB,GAA4B;AACvD,MAAA,MAAM,EAAA,MADiD;AAEvD,MAAA,UAAU,EAAA,UAF6C;AAGvD,MAAA,WAAW,EAAA,WAH4C;AAIvD,MAAA,uBAAuB,EAAE,iBAAiB,CAAC,kBAJY;AAKvD,MAAA,wBAAwB,EAAE,gBAAgB,CAAC;AALY,KAAzD;AAOQ,QAAA,cAAc,GAAK,aAAa,CAAlB,cAAd;AACR,WAAO,KAAK,CAAC,OAAN,CACL,UAAC,OAAD,EAAuC;AACrC,aAAA,cAAc,CAAC,MAAf,CAAsB,OAAO,CAAC,OAA9B,EAAwD,OAAO,IAAI,EAAnE,CAAA;AAAsE,KAFnE,EAGL,uBAHK,CAAP;AAKD,GA3BD;;AA6BQ,EAAA,iBAAA,CAAA,SAAA,CAAA,SAAA,GAAR,UAAkB,KAAlB,EAAiD,OAAjD,EAAwE;AACtE,WAAO,qCAAqC,CAAC,KAAD,EAAQ,OAAR,CAA5C;AACD,GAFO;;AAIA,EAAA,iBAAA,CAAA,SAAA,CAAA,WAAA,GAAR,UAAoB,MAApB,EAA4C,OAA5C,EAAmE;AACjE,WAAO,uCAAuC,CAAC,MAAD,EAAS,OAAT,CAA9C;AACD,GAFO;;AAMV,SAAA,iBAAA;AAAC,CAxDD,CAAuC,QAAvC,CAAA","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\nimport { UploadPartOutput, UploadPartRequest } from \"../models/models_1\";\nimport { deserializeAws_restXmlUploadPartCommand, serializeAws_restXmlUploadPartCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { getSsecPlugin } from \"@aws-sdk/middleware-ssec\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Uploads a part in a multipart upload.</p>\n *          <note>\n *             <p>In this operation, you provide part data in your request. However, you have an option\n *             to specify your existing Amazon S3 object as a data source for the part you are uploading. To\n *             upload a part from an existing object, you use the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPartCopy.html\">UploadPartCopy</a> operation.\n *          </p>\n *          </note>\n *\n *          <p>You must initiate a multipart upload (see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>)\n *          before you can upload any part. In response to your initiate request, Amazon S3 returns an\n *          upload ID, a unique identifier, that you must include in your upload part request.</p>\n *          <p>Part numbers can be any number from 1 to 10,000, inclusive. A part number uniquely\n *          identifies a part and also defines its position within the object being created. If you\n *          upload a new part using the same part number that was used with a previous part, the\n *          previously uploaded part is overwritten. Each part must be at least 5 MB in size, except\n *          the last part. There is no size limit on the last part of your multipart upload.</p>\n *          <p>To ensure that data is not corrupted when traversing the network, specify the\n *             <code>Content-MD5</code> header in the upload part request. Amazon S3 checks the part data\n *          against the provided MD5 value. If they do not match, Amazon S3 returns an error. </p>\n *\n *          <p>If the upload request is signed with Signature Version 4, then AWS S3 uses the\n *             <code>x-amz-content-sha256</code> header as a checksum instead of\n *             <code>Content-MD5</code>. For more information see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-auth-using-authorization-header.html\">Authenticating Requests: Using the Authorization Header (AWS Signature Version\n *             4)</a>. </p>\n *\n *\n *\n *          <p>\n *             <b>Note:</b> After you initiate multipart upload and upload\n *          one or more parts, you must either complete or abort multipart upload in order to stop\n *          getting charged for storage of the uploaded parts. Only after you either complete or abort\n *          multipart upload, Amazon S3 frees up the parts storage and stops charging you for the parts\n *          storage.</p>\n *\n *          <p>For more information on multipart uploads, go to <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html\">Multipart Upload Overview</a> in the\n *             <i>Amazon Simple Storage Service Developer Guide </i>.</p>\n *          <p>For information on the permissions required to use the multipart upload API, go to\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuAndPermissions.html\">Multipart Upload API and\n *             Permissions</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *\n *          <p>You can optionally request server-side encryption where Amazon S3 encrypts your data as it\n *          writes it to disks in its data centers and decrypts it for you when you access it. You have\n *          the option of providing your own encryption key, or you can use the AWS managed encryption\n *          keys. If you choose to provide your own encryption key, the request headers you provide in\n *          the request must match the headers you used in the request to initiate the upload by using\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>. For more information, go to <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html\">Using Server-Side Encryption</a> in\n *          the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *\n *          <p>Server-side encryption is supported by the S3 Multipart Upload actions. Unless you are\n *          using a customer-provided encryption key, you don't need to specify the encryption\n *          parameters in each UploadPart request. Instead, you only need to specify the server-side\n *          encryption parameters in the initial Initiate Multipart request. For more information, see\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>.</p>\n *\n *          <p>If you requested server-side encryption using a customer-provided encryption key in your\n *          initiate multipart upload request, you must provide identical encryption information in\n *          each part upload using the following headers.</p>\n *\n *\n *          <ul>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-algorithm</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key-MD5</p>\n *             </li>\n *          </ul>\n *\n *          <p class=\"title\">\n *             <b>Special Errors</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <i>Code: NoSuchUpload</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>Cause: The specified multipart upload does not exist. The upload\n *                         ID might be invalid, or the multipart upload might have been aborted or\n *                         completed.</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i> HTTP Status Code: 404 Not Found </i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>SOAP Fault Code Prefix: Client</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *\n *\n *\n *\n *\n *\n *          <p class=\"title\">\n *             <b>Related Resources</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html\">CompleteMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html\">AbortMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html\">ListParts</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html\">ListMultipartUploads</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar UploadPartCommand = /** @class */ (function (_super) {\n    __extends(UploadPartCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function UploadPartCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    UploadPartCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getSsecPlugin(configuration));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"UploadPartCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: UploadPartRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: UploadPartOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    UploadPartCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlUploadPartCommand(input, context);\n    };\n    UploadPartCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlUploadPartCommand(output, context);\n    };\n    return UploadPartCommand;\n}($Command));\nexport { UploadPartCommand };\n//# sourceMappingURL=UploadPartCommand.js.map"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { RestoreObjectOutput } from \"../models/models_0\";\nimport { RestoreObjectRequest } from \"../models/models_1\";\nimport { deserializeAws_restXmlRestoreObjectCommand, serializeAws_restXmlRestoreObjectCommand } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Restores an archived copy of an object back into Amazon S3</p>\n *          <p>This action is not supported by Amazon S3 on Outposts.</p>\n *          <p>This action performs the following types of requests: </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <code>select</code> - Perform a select query on an archived object</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>restore an archive</code> - Restore an archived object</p>\n *             </li>\n *          </ul>\n *          <p>To use this operation, you must have permissions to perform the\n *             <code>s3:RestoreObject</code> action. The bucket owner has this permission by default\n *          and can grant this permission to others. For more information about permissions, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources\">Permissions Related to Bucket Subresource Operations</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\">Managing Access Permissions to Your Amazon S3\n *             Resources</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>\n *             <b>Querying Archives with Select Requests</b>\n *          </p>\n *          <p>You use a select type of request to perform SQL queries on archived objects. The\n *          archived objects that are being queried by the select request must be formatted as\n *          uncompressed comma-separated values (CSV) files. You can run queries and custom analytics\n *          on your archived data without having to restore your data to a hotter Amazon S3 tier. For an\n *          overview about select requests, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/querying-glacier-archives.html\">Querying Archived Objects</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>When making a select request, do the following:</p>\n *          <ul>\n *             <li>\n *                <p>Define an output location for the select query's output. This must be an Amazon S3\n *                bucket in the same AWS Region as the bucket that contains the archive object that is\n *                being queried. The AWS account that initiates the job must have permissions to write\n *                to the S3 bucket. You can specify the storage class and encryption for the output\n *                objects stored in the bucket. For more information about output, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/querying-glacier-archives.html\">Querying Archived Objects</a>\n *                in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *                <p>For more information about the <code>S3</code> structure in the request body, see\n *                the following:</p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\">PutObject</a>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/S3_ACLs_UsingACLs.html\">Managing Access with\n *                         ACLs</a> in the <i>Amazon Simple Storage Service Developer Guide</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html\">Protecting Data Using\n *                         Server-Side Encryption</a> in the\n *                      <i>Amazon Simple Storage Service Developer Guide</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p>Define the SQL expression for the <code>SELECT</code> type of restoration for your\n *                query in the request body's <code>SelectParameters</code> structure. You can use\n *                expressions like the following examples.</p>\n *                <ul>\n *                   <li>\n *                      <p>The following expression returns all records from the specified\n *                      object.</p>\n *                      <p>\n *                         <code>SELECT * FROM Object</code>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>Assuming that you are not using any headers for data stored in the object,\n *                      you can specify columns with positional headers.</p>\n *                      <p>\n *                         <code>SELECT s._1, s._2 FROM Object s WHERE s._3 > 100</code>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>If you have headers and you set the <code>fileHeaderInfo</code> in the\n *                         <code>CSV</code> structure in the request body to <code>USE</code>, you can\n *                      specify headers in the query. (If you set the <code>fileHeaderInfo</code> field\n *                      to <code>IGNORE</code>, the first row is skipped for the query.) You cannot mix\n *                      ordinal positions with header column names. </p>\n *                      <p>\n *                         <code>SELECT s.Id, s.FirstName, s.SSN FROM S3Object s</code>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *          <p>For more information about using SQL with S3 Glacier Select restore, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-glacier-select-sql-reference.html\">SQL Reference for Amazon S3 Select and\n *             S3 Glacier Select</a> in the <i>Amazon Simple Storage Service Developer Guide</i>. </p>\n *          <p>When making a select request, you can also do the following:</p>\n *          <ul>\n *             <li>\n *                <p>To expedite your queries, specify the <code>Expedited</code> tier. For more\n *                information about tiers, see \"Restoring Archives,\" later in this topic.</p>\n *             </li>\n *             <li>\n *                <p>Specify details about the data serialization format of both the input object that\n *                is being queried and the serialization of the CSV-encoded query results.</p>\n *             </li>\n *          </ul>\n *          <p>The following are additional important facts about the select feature:</p>\n *          <ul>\n *             <li>\n *                <p>The output results are new Amazon S3 objects. Unlike archive retrievals, they are\n *                stored until explicitly deleted-manually or through a lifecycle policy.</p>\n *             </li>\n *             <li>\n *                <p>You can issue more than one select request on the same Amazon S3 object. Amazon S3 doesn't\n *                deduplicate requests, so avoid issuing duplicate requests.</p>\n *             </li>\n *             <li>\n *                <p> Amazon S3 accepts a select request even if the object has already been restored. A\n *                select request doesn’t return error response <code>409</code>.</p>\n *             </li>\n *          </ul>\n *          <p>\n *             <b>Restoring objects</b>\n *          </p>\n *          <p>Objects that you archive to the S3 Glacier or\n *          S3 Glacier Deep Archive storage class, and S3 Intelligent-Tiering Archive or\n *          S3 Intelligent-Tiering Deep Archive tiers are not accessible in real time. For objects in\n *          Archive Access or Deep Archive Access tiers you must first initiate a restore request, and\n *          then wait until the object is moved into the Frequent Access tier. For objects in\n *          S3 Glacier or S3 Glacier Deep Archive storage classes you must\n *          first initiate a restore request, and then wait until a temporary copy of the object is\n *          available. To access an archived object, you must restore the object for the duration\n *          (number of days) that you specify.</p>\n *          <p>To restore a specific object version, you can provide a version ID. If you don't provide\n *          a version ID, Amazon S3 restores the current version.</p>\n *          <p>When restoring an archived object (or using a select request), you can specify one of\n *          the following data access tier options in the <code>Tier</code> element of the request\n *          body: </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <b>\n *                      <code>Expedited</code>\n *                   </b> - Expedited retrievals\n *                allow you to quickly access your data stored in the S3 Glacier\n *                storage class or S3 Intelligent-Tiering Archive tier when occasional urgent requests for a\n *                subset of archives are required. For all but the largest archived objects (250 MB+),\n *                data accessed using Expedited retrievals is typically made available within 1–5\n *                minutes. Provisioned capacity ensures that retrieval capacity for Expedited\n *                retrievals is available when you need it. Expedited retrievals and provisioned\n *                capacity are not available for objects stored in the S3 Glacier Deep Archive\n *                storage class or S3 Intelligent-Tiering Deep Archive tier.</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <b>\n *                      <code>Standard</code>\n *                   </b> - Standard retrievals allow\n *                you to access any of your archived objects within several hours. This is the default\n *                option for retrieval requests that do not specify the retrieval option. Standard\n *                retrievals typically finish within 3–5 hours for objects stored in the\n *                S3 Glacier storage class or S3 Intelligent-Tiering Archive tier. They\n *                typically finish within 12 hours for objects stored in the\n *                S3 Glacier Deep Archive storage class or S3 Intelligent-Tiering Deep Archive tier.\n *                Standard retrievals are free for objects stored in S3 Intelligent-Tiering.</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <b>\n *                      <code>Bulk</code>\n *                   </b> - Bulk retrievals are the\n *                lowest-cost retrieval option in S3 Glacier, enabling you to retrieve large amounts,\n *                even petabytes, of data inexpensively. Bulk retrievals typically finish within 5–12\n *                hours for objects stored in the S3 Glacier storage class or\n *                S3 Intelligent-Tiering Archive tier. They typically finish within 48 hours for objects stored\n *                in the S3 Glacier Deep Archive storage class or S3 Intelligent-Tiering Deep Archive tier.\n *                Bulk retrievals are free for objects stored in S3 Intelligent-Tiering.</p>\n *             </li>\n *          </ul>\n *          <p>For more information about archive retrieval options and provisioned capacity for\n *             <code>Expedited</code> data access, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/restoring-objects.html\">Restoring Archived Objects</a> in the <i>Amazon Simple Storage Service Developer Guide</i>. </p>\n *          <p>You can use Amazon S3 restore speed upgrade to change the restore speed to a faster speed\n *          while it is in progress. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/restoring-objects.html#restoring-objects-upgrade-tier.title.html\">\n *             Upgrading the speed of an in-progress restore</a> in the\n *             <i>Amazon Simple Storage Service Developer Guide</i>. </p>\n *          <p>To get the status of object restoration, you can send a <code>HEAD</code> request.\n *          Operations return the <code>x-amz-restore</code> header, which provides information about\n *          the restoration status, in the response. You can use Amazon S3 event notifications to notify you\n *          when a restore is initiated or completed. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/NotificationHowTo.html\">Configuring Amazon S3 Event Notifications</a> in\n *          the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>After restoring an archived object, you can update the restoration period by reissuing\n *          the request with a new period. Amazon S3 updates the restoration period relative to the current\n *          time and charges only for the request-there are no data transfer charges. You cannot\n *          update the restoration period when Amazon S3 is actively processing your current restore request\n *          for the object.</p>\n *          <p>If your bucket has a lifecycle configuration with a rule that includes an expiration\n *          action, the object expiration overrides the life span that you specify in a restore\n *          request. For example, if you restore an object copy for 10 days, but the object is\n *          scheduled to expire in 3 days, Amazon S3 deletes the object in 3 days. For more information\n *          about lifecycle configuration, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycleConfiguration.html\">PutBucketLifecycleConfiguration</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/object-lifecycle-mgmt.html\">Object Lifecycle Management</a> in\n *             <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>\n *             <b>Responses</b>\n *          </p>\n *          <p>A successful operation returns either the <code>200 OK</code> or <code>202\n *             Accepted</code> status code. </p>\n *          <ul>\n *             <li>\n *                <p>If the object is not previously restored, then Amazon S3 returns <code>202\n *                   Accepted</code> in the response. </p>\n *             </li>\n *             <li>\n *                <p>If the object is previously restored, Amazon S3 returns <code>200 OK</code> in the\n *                response. </p>\n *             </li>\n *          </ul>\n *          <p class=\"title\">\n *             <b>Special Errors</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <i>Code: RestoreAlreadyInProgress</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>Cause: Object restore is already in progress. (This error does not\n *                         apply to SELECT type requests.)</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>HTTP Status Code: 409 Conflict</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>SOAP Fault Code Prefix: Client</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <i>Code: GlacierExpeditedRetrievalNotAvailable</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>Cause: expedited retrievals are currently not available. Try again\n *                         later. (Returned if there is insufficient capacity to process the Expedited\n *                         request. This error applies only to Expedited retrievals and not to\n *                         S3 Standard or Bulk retrievals.)</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>HTTP Status Code: 503</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>SOAP Fault Code Prefix: N/A</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *\n *          <p class=\"title\">\n *             <b>Related Resources</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycleConfiguration.html\">PutBucketLifecycleConfiguration</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketNotificationConfiguration.html\">GetBucketNotificationConfiguration</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-glacier-select-sql-reference.html\">SQL Reference for\n *                   Amazon S3 Select and S3 Glacier Select </a> in the\n *                   <i>Amazon Simple Storage Service Developer Guide</i>\n *                </p>\n *             </li>\n *          </ul>\n */\n\nvar RestoreObjectCommand =\n/** @class */\nfunction (_super) {\n  __extends(RestoreObjectCommand, _super); // Start section: command_properties\n  // End section: command_properties\n\n\n  function RestoreObjectCommand(input) {\n    var _this = // Start section: command_constructor\n    _super.call(this) || this;\n\n    _this.input = input;\n    return _this; // End section: command_constructor\n  }\n  /**\n   * @internal\n   */\n\n\n  RestoreObjectCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n    this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n    var stack = clientStack.concat(this.middlewareStack);\n    var logger = configuration.logger;\n    var clientName = \"S3Client\";\n    var commandName = \"RestoreObjectCommand\";\n    var handlerExecutionContext = {\n      logger: logger,\n      clientName: clientName,\n      commandName: commandName,\n      inputFilterSensitiveLog: RestoreObjectRequest.filterSensitiveLog,\n      outputFilterSensitiveLog: RestoreObjectOutput.filterSensitiveLog\n    };\n    var requestHandler = configuration.requestHandler;\n    return stack.resolve(function (request) {\n      return requestHandler.handle(request.request, options || {});\n    }, handlerExecutionContext);\n  };\n\n  RestoreObjectCommand.prototype.serialize = function (input, context) {\n    return serializeAws_restXmlRestoreObjectCommand(input, context);\n  };\n\n  RestoreObjectCommand.prototype.deserialize = function (output, context) {\n    return deserializeAws_restXmlRestoreObjectCommand(output, context);\n  };\n\n  return RestoreObjectCommand;\n}($Command);\n\nexport { RestoreObjectCommand };","map":{"version":3,"sources":["../../../commands/RestoreObjectCommand.ts"],"names":[],"mappings":";AACA,SAAS,mBAAT,QAAoC,oBAApC;AACA,SAAS,oBAAT,QAAqC,oBAArC;AACA,SACE,0CADF,EAEE,wCAFF,QAGO,0BAHP;AAIA,SAAS,uBAAT,QAAwC,qCAAxC;AACA,SAAS,cAAT,QAA+B,2BAA/B;AAEA,SAAS,OAAO,IAAI,QAApB,QAAoC,wBAApC;AAcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqSG;;AACH,IAAA,oBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA0C,EAAA,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA,CAA1C,CAKE;AACA;;;AAEA,WAAA,oBAAA,CAAqB,KAArB,EAAqD;AAArD,QAAA,KAAA,GACE;AACA,IAAA,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IAFT;;AAAqB,IAAA,KAAA,CAAA,KAAA,GAAA,KAAA;iBAAgC,CAGnD;AACD;AAED;;AAEG;;;AACH,EAAA,oBAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UACE,WADF,EAEE,aAFF,EAGE,OAHF,EAGgC;AAE9B,SAAK,eAAL,CAAqB,GAArB,CAAyB,cAAc,CAAC,aAAD,EAAgB,KAAK,SAArB,EAAgC,KAAK,WAArC,CAAvC;AACA,SAAK,eAAL,CAAqB,GAArB,CAAyB,uBAAuB,CAAC,aAAD,CAAhD;AAEA,QAAM,KAAK,GAAG,WAAW,CAAC,MAAZ,CAAmB,KAAK,eAAxB,CAAd;AAEQ,QAAA,MAAM,GAAK,aAAa,CAAlB,MAAN;AACR,QAAM,UAAU,GAAG,UAAnB;AACA,QAAM,WAAW,GAAG,sBAApB;AACA,QAAM,uBAAuB,GAA4B;AACvD,MAAA,MAAM,EAAA,MADiD;AAEvD,MAAA,UAAU,EAAA,UAF6C;AAGvD,MAAA,WAAW,EAAA,WAH4C;AAIvD,MAAA,uBAAuB,EAAE,oBAAoB,CAAC,kBAJS;AAKvD,MAAA,wBAAwB,EAAE,mBAAmB,CAAC;AALS,KAAzD;AAOQ,QAAA,cAAc,GAAK,aAAa,CAAlB,cAAd;AACR,WAAO,KAAK,CAAC,OAAN,CACL,UAAC,OAAD,EAAuC;AACrC,aAAA,cAAc,CAAC,MAAf,CAAsB,OAAO,CAAC,OAA9B,EAAwD,OAAO,IAAI,EAAnE,CAAA;AAAsE,KAFnE,EAGL,uBAHK,CAAP;AAKD,GA1BD;;AA4BQ,EAAA,oBAAA,CAAA,SAAA,CAAA,SAAA,GAAR,UAAkB,KAAlB,EAAoD,OAApD,EAA2E;AACzE,WAAO,wCAAwC,CAAC,KAAD,EAAQ,OAAR,CAA/C;AACD,GAFO;;AAIA,EAAA,oBAAA,CAAA,SAAA,CAAA,WAAA,GAAR,UAAoB,MAApB,EAA4C,OAA5C,EAAmE;AACjE,WAAO,0CAA0C,CAAC,MAAD,EAAS,OAAT,CAAjD;AACD,GAFO;;AAMV,SAAA,oBAAA;AAAC,CAvDD,CAA0C,QAA1C,CAAA","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\nimport { RestoreObjectOutput } from \"../models/models_0\";\nimport { RestoreObjectRequest } from \"../models/models_1\";\nimport { deserializeAws_restXmlRestoreObjectCommand, serializeAws_restXmlRestoreObjectCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Restores an archived copy of an object back into Amazon S3</p>\n *          <p>This action is not supported by Amazon S3 on Outposts.</p>\n *          <p>This action performs the following types of requests: </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <code>select</code> - Perform a select query on an archived object</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>restore an archive</code> - Restore an archived object</p>\n *             </li>\n *          </ul>\n *          <p>To use this operation, you must have permissions to perform the\n *             <code>s3:RestoreObject</code> action. The bucket owner has this permission by default\n *          and can grant this permission to others. For more information about permissions, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources\">Permissions Related to Bucket Subresource Operations</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\">Managing Access Permissions to Your Amazon S3\n *             Resources</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>\n *             <b>Querying Archives with Select Requests</b>\n *          </p>\n *          <p>You use a select type of request to perform SQL queries on archived objects. The\n *          archived objects that are being queried by the select request must be formatted as\n *          uncompressed comma-separated values (CSV) files. You can run queries and custom analytics\n *          on your archived data without having to restore your data to a hotter Amazon S3 tier. For an\n *          overview about select requests, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/querying-glacier-archives.html\">Querying Archived Objects</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>When making a select request, do the following:</p>\n *          <ul>\n *             <li>\n *                <p>Define an output location for the select query's output. This must be an Amazon S3\n *                bucket in the same AWS Region as the bucket that contains the archive object that is\n *                being queried. The AWS account that initiates the job must have permissions to write\n *                to the S3 bucket. You can specify the storage class and encryption for the output\n *                objects stored in the bucket. For more information about output, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/querying-glacier-archives.html\">Querying Archived Objects</a>\n *                in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *                <p>For more information about the <code>S3</code> structure in the request body, see\n *                the following:</p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\">PutObject</a>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/S3_ACLs_UsingACLs.html\">Managing Access with\n *                         ACLs</a> in the <i>Amazon Simple Storage Service Developer Guide</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html\">Protecting Data Using\n *                         Server-Side Encryption</a> in the\n *                      <i>Amazon Simple Storage Service Developer Guide</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p>Define the SQL expression for the <code>SELECT</code> type of restoration for your\n *                query in the request body's <code>SelectParameters</code> structure. You can use\n *                expressions like the following examples.</p>\n *                <ul>\n *                   <li>\n *                      <p>The following expression returns all records from the specified\n *                      object.</p>\n *                      <p>\n *                         <code>SELECT * FROM Object</code>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>Assuming that you are not using any headers for data stored in the object,\n *                      you can specify columns with positional headers.</p>\n *                      <p>\n *                         <code>SELECT s._1, s._2 FROM Object s WHERE s._3 > 100</code>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>If you have headers and you set the <code>fileHeaderInfo</code> in the\n *                         <code>CSV</code> structure in the request body to <code>USE</code>, you can\n *                      specify headers in the query. (If you set the <code>fileHeaderInfo</code> field\n *                      to <code>IGNORE</code>, the first row is skipped for the query.) You cannot mix\n *                      ordinal positions with header column names. </p>\n *                      <p>\n *                         <code>SELECT s.Id, s.FirstName, s.SSN FROM S3Object s</code>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *          <p>For more information about using SQL with S3 Glacier Select restore, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-glacier-select-sql-reference.html\">SQL Reference for Amazon S3 Select and\n *             S3 Glacier Select</a> in the <i>Amazon Simple Storage Service Developer Guide</i>. </p>\n *          <p>When making a select request, you can also do the following:</p>\n *          <ul>\n *             <li>\n *                <p>To expedite your queries, specify the <code>Expedited</code> tier. For more\n *                information about tiers, see \"Restoring Archives,\" later in this topic.</p>\n *             </li>\n *             <li>\n *                <p>Specify details about the data serialization format of both the input object that\n *                is being queried and the serialization of the CSV-encoded query results.</p>\n *             </li>\n *          </ul>\n *          <p>The following are additional important facts about the select feature:</p>\n *          <ul>\n *             <li>\n *                <p>The output results are new Amazon S3 objects. Unlike archive retrievals, they are\n *                stored until explicitly deleted-manually or through a lifecycle policy.</p>\n *             </li>\n *             <li>\n *                <p>You can issue more than one select request on the same Amazon S3 object. Amazon S3 doesn't\n *                deduplicate requests, so avoid issuing duplicate requests.</p>\n *             </li>\n *             <li>\n *                <p> Amazon S3 accepts a select request even if the object has already been restored. A\n *                select request doesn’t return error response <code>409</code>.</p>\n *             </li>\n *          </ul>\n *          <p>\n *             <b>Restoring objects</b>\n *          </p>\n *          <p>Objects that you archive to the S3 Glacier or\n *          S3 Glacier Deep Archive storage class, and S3 Intelligent-Tiering Archive or\n *          S3 Intelligent-Tiering Deep Archive tiers are not accessible in real time. For objects in\n *          Archive Access or Deep Archive Access tiers you must first initiate a restore request, and\n *          then wait until the object is moved into the Frequent Access tier. For objects in\n *          S3 Glacier or S3 Glacier Deep Archive storage classes you must\n *          first initiate a restore request, and then wait until a temporary copy of the object is\n *          available. To access an archived object, you must restore the object for the duration\n *          (number of days) that you specify.</p>\n *          <p>To restore a specific object version, you can provide a version ID. If you don't provide\n *          a version ID, Amazon S3 restores the current version.</p>\n *          <p>When restoring an archived object (or using a select request), you can specify one of\n *          the following data access tier options in the <code>Tier</code> element of the request\n *          body: </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <b>\n *                      <code>Expedited</code>\n *                   </b> - Expedited retrievals\n *                allow you to quickly access your data stored in the S3 Glacier\n *                storage class or S3 Intelligent-Tiering Archive tier when occasional urgent requests for a\n *                subset of archives are required. For all but the largest archived objects (250 MB+),\n *                data accessed using Expedited retrievals is typically made available within 1–5\n *                minutes. Provisioned capacity ensures that retrieval capacity for Expedited\n *                retrievals is available when you need it. Expedited retrievals and provisioned\n *                capacity are not available for objects stored in the S3 Glacier Deep Archive\n *                storage class or S3 Intelligent-Tiering Deep Archive tier.</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <b>\n *                      <code>Standard</code>\n *                   </b> - Standard retrievals allow\n *                you to access any of your archived objects within several hours. This is the default\n *                option for retrieval requests that do not specify the retrieval option. Standard\n *                retrievals typically finish within 3–5 hours for objects stored in the\n *                S3 Glacier storage class or S3 Intelligent-Tiering Archive tier. They\n *                typically finish within 12 hours for objects stored in the\n *                S3 Glacier Deep Archive storage class or S3 Intelligent-Tiering Deep Archive tier.\n *                Standard retrievals are free for objects stored in S3 Intelligent-Tiering.</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <b>\n *                      <code>Bulk</code>\n *                   </b> - Bulk retrievals are the\n *                lowest-cost retrieval option in S3 Glacier, enabling you to retrieve large amounts,\n *                even petabytes, of data inexpensively. Bulk retrievals typically finish within 5–12\n *                hours for objects stored in the S3 Glacier storage class or\n *                S3 Intelligent-Tiering Archive tier. They typically finish within 48 hours for objects stored\n *                in the S3 Glacier Deep Archive storage class or S3 Intelligent-Tiering Deep Archive tier.\n *                Bulk retrievals are free for objects stored in S3 Intelligent-Tiering.</p>\n *             </li>\n *          </ul>\n *          <p>For more information about archive retrieval options and provisioned capacity for\n *             <code>Expedited</code> data access, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/restoring-objects.html\">Restoring Archived Objects</a> in the <i>Amazon Simple Storage Service Developer Guide</i>. </p>\n *          <p>You can use Amazon S3 restore speed upgrade to change the restore speed to a faster speed\n *          while it is in progress. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/restoring-objects.html#restoring-objects-upgrade-tier.title.html\">\n *             Upgrading the speed of an in-progress restore</a> in the\n *             <i>Amazon Simple Storage Service Developer Guide</i>. </p>\n *          <p>To get the status of object restoration, you can send a <code>HEAD</code> request.\n *          Operations return the <code>x-amz-restore</code> header, which provides information about\n *          the restoration status, in the response. You can use Amazon S3 event notifications to notify you\n *          when a restore is initiated or completed. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/NotificationHowTo.html\">Configuring Amazon S3 Event Notifications</a> in\n *          the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>After restoring an archived object, you can update the restoration period by reissuing\n *          the request with a new period. Amazon S3 updates the restoration period relative to the current\n *          time and charges only for the request-there are no data transfer charges. You cannot\n *          update the restoration period when Amazon S3 is actively processing your current restore request\n *          for the object.</p>\n *          <p>If your bucket has a lifecycle configuration with a rule that includes an expiration\n *          action, the object expiration overrides the life span that you specify in a restore\n *          request. For example, if you restore an object copy for 10 days, but the object is\n *          scheduled to expire in 3 days, Amazon S3 deletes the object in 3 days. For more information\n *          about lifecycle configuration, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycleConfiguration.html\">PutBucketLifecycleConfiguration</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/object-lifecycle-mgmt.html\">Object Lifecycle Management</a> in\n *             <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>\n *             <b>Responses</b>\n *          </p>\n *          <p>A successful operation returns either the <code>200 OK</code> or <code>202\n *             Accepted</code> status code. </p>\n *          <ul>\n *             <li>\n *                <p>If the object is not previously restored, then Amazon S3 returns <code>202\n *                   Accepted</code> in the response. </p>\n *             </li>\n *             <li>\n *                <p>If the object is previously restored, Amazon S3 returns <code>200 OK</code> in the\n *                response. </p>\n *             </li>\n *          </ul>\n *          <p class=\"title\">\n *             <b>Special Errors</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <i>Code: RestoreAlreadyInProgress</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>Cause: Object restore is already in progress. (This error does not\n *                         apply to SELECT type requests.)</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>HTTP Status Code: 409 Conflict</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>SOAP Fault Code Prefix: Client</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <i>Code: GlacierExpeditedRetrievalNotAvailable</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>Cause: expedited retrievals are currently not available. Try again\n *                         later. (Returned if there is insufficient capacity to process the Expedited\n *                         request. This error applies only to Expedited retrievals and not to\n *                         S3 Standard or Bulk retrievals.)</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>HTTP Status Code: 503</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>SOAP Fault Code Prefix: N/A</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *\n *          <p class=\"title\">\n *             <b>Related Resources</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycleConfiguration.html\">PutBucketLifecycleConfiguration</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketNotificationConfiguration.html\">GetBucketNotificationConfiguration</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-glacier-select-sql-reference.html\">SQL Reference for\n *                   Amazon S3 Select and S3 Glacier Select </a> in the\n *                   <i>Amazon Simple Storage Service Developer Guide</i>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar RestoreObjectCommand = /** @class */ (function (_super) {\n    __extends(RestoreObjectCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function RestoreObjectCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    RestoreObjectCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"RestoreObjectCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: RestoreObjectRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: RestoreObjectOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    RestoreObjectCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlRestoreObjectCommand(input, context);\n    };\n    RestoreObjectCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlRestoreObjectCommand(output, context);\n    };\n    return RestoreObjectCommand;\n}($Command));\nexport { RestoreObjectCommand };\n//# sourceMappingURL=RestoreObjectCommand.js.map"]},"metadata":{},"sourceType":"module"}